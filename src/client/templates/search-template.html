<search-box initial-value="{{ query }}" search="search(query)"
            enter="enter(evt)"></search-box>

<div class="fluid-container">
<div class="row">
  <div ng-repeat="image in images">
    <div class="col-xs-6 col-sm-4 col-md-2 col-lg-1">
      <img src="{{ image.thumbnail }}" alt="{{ image.snippet }}"
          class="img-thumbnail" ng-click="view(image)">
    </div>
    <div class="clearfix visible-xs-block" ng-if="($index+1)%2==0"></div>
    <div class="clearfix visible-sm-block" ng-if="($index+1)%3==0"></div>
    <div class="clearfix visible-md-block" ng-if="($index+1)%6==0"></div>
    <div class="clearfix visible-lg-block" ng-if="($index+1)%12==0"></div>
  </div>
</div>
</div>

<div ng-show="pending">
  <img src="https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif" class="img-responsive center-block">
</div>

<button ng-show="images.length" type="button"
        class="btn btn-block btn-default"
        ng-click="search(query)">
  Load more images
</button>

<p class="lead text-center" ng-hide="images.length || pending || error">
  Press ENTER or <span class="glyphicon glyphicon-search"></span> to search!
</p>

<modal ng-show="error" close="clearError()">
  <modal-title>Error</modal-title>
  <modal-body>An error occured. Please try again later.</modal-body>
  <modal-footer>
    <button type="button" class="btn btn-default btn-block"
            ng-click="clearError()">
      Retry
    </button>
  </modal-footer>
</modal>

<modal ng-show="modal" close="close()">
  <modal-title>{{ modal.snippet }}</modal-title>
  <modal-body>
    <a href="{{ modal.context }}">
      <img src="{{ modal.url }}" alt="{{ modal.snippet }}"
           class="img-responsive center-block">
    </a>
  </modal-body>
  <modal-footer>
    <div class="btn-group btn-group-justified">
      <div class="btn-group">
        <button type="button" class="btn btn-default"
                ng-click="close()">Close</button>
      </div>
      <div class="btn-group">
        <a href="{{ modal.context }}" class="btn btn-default">Go!</a>
      </div>
    </div>
  </modal-footer>
</modal>
