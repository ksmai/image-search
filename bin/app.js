"use strict";!function e(t,r,n){function o(i,c){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!c&&l)return l(i,!0);if(a)return a(i,!0);throw new Error("Cannot find module '"+i+"'")}var u=r[i]={exports:{}};t[i][0].call(u.exports,function(e){var r=t[i][1][e];return o(r?r:e)},u,u.exports,e,t,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){r.searchBoxCtrl=["$scope","$location",function(e,t){e.inputValue=e.initialValue,e.changeQuery=function(){e.inputValue.match(/^\.{1,2}$/)||t.path("/search/"+encodeURIComponent(e.inputValue))}}],r.searchCtrl=["$scope","$routeParams","$http",function(e,t,r){var n=0;e.pending=!1,e.error=!1,e.query=decodeURIComponent(t.query),e.search=function(t){e.pending||(e.pending=!0,e.error=!1,r({url:"/api/imagesearch/"+encodeURIComponent(t)+"?offset="+n,method:"GET"}).then(function(t){return e.pending=!1,200===t.status&&t.data.length?(Array.isArray(e.images)?e.images=e.images.concat(t.data):e.images=t.data,void(n+=10)):Promise.reject(t)}).catch(function(t){e.pending=!1,e.error=!0}))},e.enter=function(t){13===t.which&&e.search(e.query)},e.view=function(t){e.modal=t},e.close=function(){e.modal=null},e.clearError=function(){e.error=!1},setTimeout(function(){e.$emit("searchCtrl")},0)}]},{}],2:[function(e,t,r){r.searchBox=function(){return{templateUrl:"/templates/search-box-template.html",controller:"searchBoxCtrl",restrict:"E",scope:{initialValue:"@initialValue",search:"&search",enter:"&enter"}}},r.autoFocus=["$timeout",function(e){return{restrict:"A",link:function(t,r){e(function(){r[0].focus()},0)}}}],r.modal=function(){return{restrict:"E",scope:{close:"&"},transclude:{title:"modalTitle",body:"modalBody",footer:"modalFooter"},templateUrl:"/templates/modal-template.html"}},r.searchPage=function(){return{templateUrl:"/templates/search-template.html",controller:"searchCtrl"}}},{}],3:[function(e,t,r){!function(){var t=angular.module("imageSearch",["ng","ngRoute"]),r=e("./controllers");for(var n in r)r.hasOwnProperty(n)&&t.controller(n,r[n]);var o=e("./directives");for(var a in o)o.hasOwnProperty(a)&&t.directive(a,o[a]);t.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"/templates/main-template.html"}).when("/search/:query",{template:"<search-page></search-page>"}).otherwise({redirectTo:"/"}),t.html5Mode(!0),t.hashPrefix("")}])}()},{"./controllers":1,"./directives":2}]},{},[3]);